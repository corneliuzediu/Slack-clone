<div class="content_wrapper">
    <!-- Header -->
    <mat-toolbar class="header_wrapper">
        <div class="header_left">
            <button mat-icon-button class="sidenav_button">
                <mat-icon (click)="drawer.toggle()">menu</mat-icon>
            </button>
            <span class="name_app" routerLink="../{{urlID}}">Slack-clone</span>
            <span class="example-spacer"></span>
        </div>
        <form class="header_center">
            <mat-expansion-panel hideToggle>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <input [(ngModel)]="searchValue" name="searchValue" placeholder="Search ..." matInput>
                        <mat-icon (click)="search()" mat-button>search</mat-icon>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-card-actions class="search_history">
                    <button *ngFor="let searched of searchlist"># {{searched}}</button>
                    <button class="clear_search_btn" mat-button (click)="clearSearch()">clear search</button>
                </mat-card-actions>
            </mat-expansion-panel>
        </form>
        <div class="header_right">
            <button class="header_user_profile" #badge mat-button [matMenuTriggerFor]="myProfile" matBadge="0"
                matBadgePosition="below"><img src="./assets/img/user.png"></button>
            <mat-menu class="header_user_menu" #myProfile="matMenu" xPosition="before">
                <mat-card class="menu_user_profile" (click)="$event.stopPropagation();">
                    <mat-card-header>
                        <div mat-card-avatar class="menu_user_img"><img src="./assets/img/user.png"></div>
                        <div class="menu_user_head">
                            <mat-card-title>{{user.firstName}} {{user.lastName}}</mat-card-title>
                            <mat-card-subtitle>{{userStatus}}</mat-card-subtitle>
                        </div>
                    </mat-card-header>
                    <mat-card-content class="menu_user_body">
                        <div (click)="openDialogAddStatus()" class="menu_status" matTooltip="Update your status"
                            [matTooltipPosition]="'left'">Status
                        </div>
                        <div [routerLink]="['/main/', urlID,{ outlets: {body:['profil']}}]" class="menu_profile"
                            matTooltip="See your profile" [matTooltipPosition]="'left'">Profile
                        </div>
                        <div class="menu_logOut">
                            <button onclick="ngOnDestroy()" routerLink="/" mat-button color="warn">Log out</button>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-menu>
            <app-chat></app-chat>
        </div>
    </mat-toolbar>

    <!-- Sidenav -->

    <mat-drawer-container class="sidenav_wrapper" autosize>
        <router-outlet name="body"></router-outlet>
        <mat-drawer #drawer class="sidenav" [opened]="true" mode="side">
            <app-sidenav></app-sidenav>
        </mat-drawer>
    </mat-drawer-container>
</div>